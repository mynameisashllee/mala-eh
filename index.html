<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>May 2025 Work Hours Tracker</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }
        .day {
            border: 1px solid #ddd;
            padding: 10px;
            min-height: 80px;
            border-radius: 5px;
            position: relative;
        }
        .day-header {
            font-weight: bold;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
        }
        .date {
            color: #555;
        }
        .hours {
            font-size: 1.2em;
        }
        .weekday {
            color: #333;
        }
        .weekend {
            color: #888;
        }
        .on-track {
            background-color: #d4edda;
        }
        .behind {
            background-color: #f8d7da;
        }
        .future {
            background-color: #f0f0f0;
        }
        .stats {
            margin: 20px 0;
            padding: 15px;
            background-color: #e2e3e5;
            border-radius: 5px;
        }
        .progress {
            height: 20px;
            background-color: #e9ecef;
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background-color: #28a745;
            width: 0%;
            transition: width 0.3s;
        }
        .controls {
            margin: 20px 0;
            display: flex;
            gap: 10px;
        }
        input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            padding: 8px 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0069d9;
        }
    </style>
</head>
<body>
    <h1>May 2025 Work Hours Tracker</h1>
    
    <div class="stats">
        <div>
            <strong>Total hours worked:</strong> <span id="total-hours">0</span> / 80
            <div class="progress">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
        </div>
        <div>
            <strong>Remaining hours:</strong> <span id="remaining-hours">100</span>
        </div>
        <div id="daily-average"></div>
        <div id="mid-month-status"></div>
    </div>
    
    <div class="controls">
        <input type="date" id="date-input" min="2025-05-01" max="2025-05-31">
        <input type="number" id="hours-input" placeholder="Hours worked" min="0" step="0.25">
        <button id="update-btn">Update</button>
        <button id="reset-btn">Reset All</button>
    </div>
    
    <div class="calendar" id="calendar"></div>
    
    <script>
        // Initialize data - you can pre-fill hours here
        const workData = {
            // Example pre-filled data - modify as needed
            // Format: "YYYY-MM-DD": hours
            "2025-05-01": 0,
            "2025-05-02": 0,
            "2025-05-03": 6,
            "2025-05-04": 0,
            "2025-05-05": 0,
            "2025-05-06": 0,
            "2025-05-07": 0,
            // Add more pre-filled days as needed
        };
        
        const goalEndMonth = 80;
        const goalMidMonth = 45;
        const today = new Date();
        const currentDate = today.getDate();
        const currentMonth = today.getMonth() + 1;
        const currentYear = today.getFullYear();
        
        // Check if we're in May 2025 to determine which days are in the future
        const isMay2025 = currentYear === 2025 && currentMonth === 5;
        
        function renderCalendar() {
            const calendar = document.getElementById('calendar');
            calendar.innerHTML = '';
            
            const daysInMonth = 31; // May has 31 days
            const firstDay = new Date(2025, 4, 1).getDay(); // 0 = Sunday, 1 = Monday, etc.
            
            // Add empty cells for days before the 1st
            for (let i = 0; i < firstDay; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'day';
                calendar.appendChild(emptyDay);
            }
            
            let totalHours = 0;
            let daysCompleted = 0;
            let midMonthHours = 0;
            
            // Create cells for each day of the month
            for (let day = 1; day <= daysInMonth; day++) {
                const date = new Date(2025, 4, day);
                const dayOfWeek = date.getDay();
                const dateString = `2025-05-${day.toString().padStart(2, '0')}`;
                const hours = workData[dateString] || 0;
                
                totalHours += hours;
                daysCompleted += hours > 0 ? 1 : 0;
                if (day <= 15) {
                    midMonthHours += hours;
                }
                
                const dayElement = document.createElement('div');
                dayElement.className = `day ${dayOfWeek === 0 || dayOfWeek === 6 ? 'weekend' : 'weekday'}`;
                
                // Determine if this day is in the future
                const isFuture = isMay2025 ? day > currentDate : date > today;
                
                // Calculate required average if this day has 0 hours
                let requiredAverage = 0;
                if (hours === 0 && !isFuture) {
                    const remainingDays = daysInMonth - Object.keys(workData).length;
                    requiredAverage = (goalEndMonth - totalHours) / remainingDays;
                }
                
                // Check if on track for mid-month goal (only up to day 15)
                let isOnTrack = true;
                if (day <= 15) {
                    const daysLeft = 15 - day;
                    const hoursNeeded = goalMidMonth - midMonthHours;
                    if (daysLeft > 0 && hours < (hoursNeeded / daysLeft)) {
                        isOnTrack = false;
                    }
                }
                
                // Check if on track for end of month goal
                const daysLeftTotal = daysInMonth - day;
                const hoursNeededTotal = goalEndMonth - totalHours;
                if (daysLeftTotal > 0 && hours < (hoursNeededTotal / daysLeftTotal)) {
                    isOnTrack = false;
                }
                
                // Add appropriate class based on status
                if (isFuture) {
                    dayElement.classList.add('future');
                } else if (hours > 0) {
                    dayElement.classList.add(isOnTrack ? 'on-track' : 'behind');
                } else {
                    dayElement.classList.add('behind');
                }
                
                dayElement.innerHTML = `
                    <div class="day-header">
                        <span class="date">${day}</span>
                        <span class="weekday-name">${['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][dayOfWeek]}</span>
                    </div>
                    <div class="hours">${hours > 0 ? hours + 'h' : '0h'}</div>
                    ${hours === 0 && !isFuture ? `<div class="required-avg">Need ~${requiredAverage.toFixed(1)}h/day</div>` : ''}
                `;
                
                calendar.appendChild(dayElement);
            }
            
            // Update stats
            document.getElementById('total-hours').textContent = totalHours;
            document.getElementById('remaining-hours').textContent = goalEndMonth - totalHours;
            document.getElementById('progress-bar').style.width = `${(totalHours / goalEndMonth) * 100}%`;
            
            // Calculate and display daily average needed
            const daysLeft = daysInMonth - Object.keys(workData).length;
            const remainingHours = goalEndMonth - totalHours;
            const dailyAverage = daysLeft > 0 ? (remainingHours / daysLeft) : 0;
            
            document.getElementById('daily-average').innerHTML = `
                <strong>Daily average needed:</strong> ${dailyAverage.toFixed(1)} hours/day for the remaining ${daysLeft} days
            `;
            
            // Mid-month status
            const midMonthStatus = midMonthHours >= goalMidMonth ? 
                `✅ Reached mid-month goal of ${goalMidMonth} hours` : 
                `⚠️ Need ${goalMidMonth - midMonthHours} more hours by 15th May`;
            
            document.getElementById('mid-month-status').innerHTML = `
                <strong>Mid-month progress (by 15th May):</strong> ${midMonthHours} / ${goalMidMonth} - ${midMonthStatus}
            `;
        }
        
        // Initialize calendar
        renderCalendar();
        
        // Set up event listeners for controls
        document.getElementById('update-btn').addEventListener('click', function() {
            const dateInput = document.getElementById('date-input').value;
            const hoursInput = parseFloat(document.getElementById('hours-input').value);
            
            if (!dateInput || isNaN(hoursInput) || hoursInput < 0) {
                alert('Please select a date and enter a valid number of hours');
                return;
            }
            
            workData[dateInput] = hoursInput;
            renderCalendar();
            
            // Clear inputs
            document.getElementById('hours-input').value = '';
        });
        
        document.getElementById('reset-btn').addEventListener('click', function() {
            if (confirm('Are you sure you want to reset all hours to zero?')) {
                for (const date in workData) {
                    workData[date] = 0;
                }
                renderCalendar();
            }
        });
        
        // Set today's date as default in date picker if we're in May 2025
        if (isMay2025) {
            const todayString = `2025-05-${currentDate.toString().padStart(2, '0')}`;
            document.getElementById('date-input').value = todayString;
        } else {
            document.getElementById('date-input').value = '2025-05-01';
        }
    </script>
</body>
</html>
